/*global define: false */define(["lodash","underscore.string","angular","app"],function(e,t,n,r){"use strict";n.module("myApp.soundEngine",[]).factory("music",function(t){var n=function(e,t){e.addEventListener("ended",function(t){e.play()},!1)},r=function(){},i={startVolume:.5,success:n,error:r,enablePluginDebug:!1,plugins:["flash","silverlight"],pluginPath:"/assets/",flashName:"flashmediaelement.swf",silverlightName:"silverlightmediaelement.xap"},s=$('<audio id="introMusic"></audio>').append('<source src="/assets/music/bgm-theme-loop.ogg" type="audio/ogg" />').append('<source src="/assets/music/bgm-theme-loop.mp3" type="audio/mpeg" />').append("Your browser does not support the audio tag."),o=$('<audio id="roundMusic"></audio>').append('<source src="/assets/music/bgm-in-turn.ogg" type="audio/ogg" />').append('<source src="/assets/music/bgm-in-turn.mp3" type="audio/mpeg" />').append("Your browser does not support the audio tag."),u={intro:new MediaElement(s.get(0),i),round:new MediaElement(o.get(0),i)};return{play:function(e){u[e].play()},pause:function(e){u[e].pause()},pauseCurrent:function(){var t=e.filter(u,function(e){return e.paused===!1});e.each(t,function(e){e.pause()})}}}).factory("effects",function(t){var n=function(e,t){e.addEventListener("ended",function(e){},!1)},r=function(){},i={startVolume:1,success:n,error:r,enablePluginDebug:!1,plugins:["flash","silverlight"],pluginPath:"/assets/",flashName:"flashmediaelement.swf",silverlightName:"silverlightmediaelement.xap"},s=$('<audio id=""></audio>').append('<source src="/assets/sfx/judgement-draw.ogg" type="audio/ogg" />').append('<source src="/assets/sfx/judgement-draw.mp3" type="audio/mpeg" />').append("Your browser does not support the audio tag."),o=$('<audio id=""></audio>').append('<source src="/assets/sfx/judgement-win.ogg" type="audio/ogg" />').append('<source src="/assets/sfx/judgement-win.mp3" type="audio/mpeg" />').append("Your browser does not support the audio tag."),u=$('<audio id=""></audio>').append('<source src="/assets/sfx/sfx-punch1.ogg" type="audio/ogg" />').append('<source src="/assets/sfx/sfx-punch1.mp3" type="audio/mpeg" />').append("Your browser does not support the audio tag."),a=$('<audio id=""></audio>').append('<source src="/assets/sfx/sfx-punch2.ogg" type="audio/ogg" />').append('<source src="/assets/sfx/sfx-punch2.mp3" type="audio/mpeg" />').append("Your browser does not support the audio tag."),f=$('<audio id=""></audio>').append('<source src="/assets/sfx/sfx-punch3.ogg" type="audio/ogg" />').append('<source src="/assets/sfx/sfx-punch3.mp3" type="audio/mpeg" />').append("Your browser does not support the audio tag."),l=$('<audio id=""></audio>').append('<source src="/assets/sfx/sfx-punch4.ogg" type="audio/ogg" />').append('<source src="/assets/sfx/sfx-punch4.mp3" type="audio/mpeg" />').append("Your browser does not support the audio tag."),c=$('<audio id=""></audio>').append('<source src="/assets/sfx/voice-fingers-of-fury.ogg" type="audio/ogg" />').append('<source src="/assets/sfx/voice-fingers-of-fury.mp3" type="audio/mpeg" />').append("Your browser does not support the audio tag."),h={"judgement-win":new MediaElement(s.get(0),i),"judgement-draw":new MediaElement(o.get(0),i),punch1:new MediaElement(u.get(0),i),punch2:new MediaElement(a.get(0),i),punch3:new MediaElement(f.get(0),i),punch4:new MediaElement(l.get(0),i),"voice-title":new MediaElement(c.get(0),i)};return{play:function(e){h[e].play()},pause:function(e){h[e].pause()},pauseCurrent:function(){var t=e.filter(h,function(e){return e.paused===!1});e.each(t,function(e){e.pause()})}}})});