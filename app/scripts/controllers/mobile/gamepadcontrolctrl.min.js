/*global define: false */define(["lodash","underscore.string","app"],function(e,t,n){"use strict";return["$scope","$log","$location","$routeParams","music","socket","tableServices",function(e,t,n,r,i,s,o){e.game.table=e.game.table||{};e.MOVE_ROCK="rock";e.MOVE_PAPER="paper";e.MOVE_SCISSORS="scissors";if(r.sessionId){var u=o.getTableWithSession(r.sessionId);u.then(function(r){t.log("tableServices getTableWithSession response:",r);if(r.data.error){t.error(r.data.error);n.path("/error")}else e.game.table=r.data;e.$apply()},function(e){t.log("tableServices getTableWithSession error:",e)})}else{e.error={message:"Please get a valid game session!"};jQuery.browser.mobile?n.path("/error"):n.path("/c/error")}e.playerMove=function(n){t.log("move pressed:",n);var r={tableId:e.game.table._id,playerName:e.game.player.name,playerMove:n}};e.playerLeave=function(){t.log("player left game: ",e.game.player.name+", session: ",e.game.table.session);var n={name:e.game.player.name,sessionId:e.game.table.session}};s.on("game:player:joined",function(e){});var a=function(){};e.$apply()}]});